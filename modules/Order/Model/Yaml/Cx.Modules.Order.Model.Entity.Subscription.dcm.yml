Cx\Modules\Order\Model\Entity\Subscription:
  type: entity
  repositoryClass: Cx\Modules\Order\Model\Repository\SubscriptionRepository
  table: module_order_subscription

  id:
    id:
      type: integer
      generator:
        strategy: AUTO

  fields:
    subscriptionDate:
      type: datetime
      column: subscription_date
      nullable: true
    expirationDate:
      type: datetime
      column: expiration_date
      nullable: true
    productEntityId:
      type: integer
      column: product_entity_id
      nullable: true
    paymentAmount:
      type: decimal
      column: payment_amount
      scale: 2
    paymentState:
      type: string
      length: 12
      column: payment_state
    renewalUnit:
      type: string
      length: 5
      column: renewal_unit
      nullable: true
    renewalQuantifier:
      type: integer
      column: renewal_quantifier
      nullable: true
      options:
        unsigned: true
    renewalDate:
      type: datetime
      column: renewal_date
      nullable: true
    externalSubscriptionId:
      type: integer
      column: external_subscription_id
      nullable: true
    description:
      type: string
      nullable: true
    state:
      type: string
      length: 12
      nullable: true
    terminationDate:
      type: datetime
      column: termination_date
      nullable: true
    note:
      type: text
      nullable: true
      
  manyToOne: # owning side
    order:
      targetEntity: Cx\Modules\Order\Model\Entity\Order
      inversedBy: subscriptions
      joinColumn:
        name: order_id
        nullable: true
        referencedColumnName: id
        cascade: [remove]
        onDelete: 'SET NULL'
        onUpdate: 'NO ACTION'
    product:
      targetEntity: Cx\Modules\Pim\Model\Entity\Product
      inversedBy: subscriptions
      joinColumn:
        name: product_id
        referencedColumnName: id
        cascade: [remove]
        onDelete: 'SET NULL'
        onUpdate: 'NO ACTION'